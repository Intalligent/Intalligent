<div ng-include src="deleteModal"></div>

<div class="page-content">

    <div class="panel-heading">
        <h3>
            <span ng-bind="getTranslation('AppraisalStorage')"></span>
        </h3>
        <span class="pull-right">
            <a class="btn btn-link hand-cursor" href="/home/#/employees/{{selectedEmployee._id}}" >{{getTranslation("Back to")}} {{selectedEmployee.employeeName}}</a>
        </span>
    </div>

    <div class="space-10"></div>

    <div class="alert alert-warning" ng-show="items.length == 0 && search == ''">
        <button type="button" class="close" data-dismiss="alert">
            <i class="fa fa-times bigger-125"></i>
        </button>
        <i class="fa  fa-warning bigger-300" style="color:black"></i> &nbsp; &nbsp;
        <div>
            <strong>{{getTranslation('OOPPS! seems that you donÂ´t have any appraisal storage defined yet... ')}} </strong>
            <br>
            <div class="text-primary"><i>{{getTranslation('...Or maybe you need more information about appraisal storage...')}}</i></div>
        </div>
        <br>

        <div class="row">
            <a class="btn btn-default hand-cursor radius-6 " href="#">{{getTranslation('Get more info about appraisal storage')}}</a>
        </div>
    </div>


<table class="table  table-striped table-hover" >

    <thead>
    <tr>
        <th>#</th>
        <th ng-bind="getTranslation('To Employee Name')"></th>
        <th ng-bind="getTranslation('By Employee Name')"></th>
        <th ng-bind="getTranslation('Appraisal Percent')"></th>
        <th ng-bind="getTranslation('Appraisal Date')"></th>
        <th ng-bind="getTranslation('Appraisal End Date')"></th>
    </tr>
    </thead>

    <tbody>
        <tr class="table-row" ng-repeat="theItem in items" id="{{theItem._id}}">
            <td  class="visible-md visible-lg hidden-sm hidden-xs" style="width: 100px;">
                <div class="btn-group">
                    <!--<button class="btn btn-xs btn-link" ng-click="edit(theItem._id)" tooltip="{{getTranslation('Click here to modify this appraisal storage')}}">
                        <i class="fa fa-edit bigger-140" style="color:black"></i>
                    </button>-->

                    <button class="hand-cursor btn btn-xs btn-link" ng-show="restrictRole(['52988ac5df1fcbc201000008', '5327d7ef9c3b0f7801acda0d'])"
                            ng-click="deleteAppraisalStorage(theItem._id)" tooltip="{{getTranslation('Click here to permanently delete this appraisal storage')}}">
                        <i class="fa fa-trash-o bigger-140" style="color:red"></i>
                    </button>

                    <button class="btn btn-xs btn-link hand-cursor" ng-click="evaluateReadOnly(theItem._id)" data-rel="tooltip" title="" data-original-title="{{getTranslation('Click here to view the evaluation')}}">
                        <i class="fa fa-video-camera bigger-140" style="color:cornflowerblue"></i>
                    </button>
                </div>
            </td>
            <td  class="visible-xs visible-sm hidden-md hidden-lg" style="width: 1px;">  <!-- buttons for mobile -->
                <div>
                    <div class="inline position-relative">
                        <button class="btn btn-minier btn-link dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-caret-square-o-down bigger-140" style="color:black"></i>
                        </button>

                        <ul class="dropdown-menu dropdown-only-icon dropdown-yellow pull-right dropdown-caret dropdown-close">
                            <!--<li>
                                <button class="btn btn-xs btn-link" ng-click="edit(theItem._id)" tooltip="{{getTranslation('Click here to modify this appraisal storage')}}">
                                    <i class="fa fa-edit bigger-140" style="color:black"></i>
                                </button>
                            </li>-->

                            <li>
                                <button class="hand-cursor btn btn-xs btn-link" ng-click="deleteAppraisalStorage(theItem._id)" tooltip="{{getTranslation('Click here to permanently delete this appraisal storage')}}">
                                    <i class="fa fa-trash-o bigger-140" style="color:red"></i>
                                </button>
                            </li>

                        </ul>
                    </div>
                </div>
            </td>

            <td>{{theItem.appraisalToEmployeeName}}</td>
            <td>{{theItem.appraisalByEmployeeName}}</td>
            <td>{{theItem.appraisalPercent}}%</td>
            <td ng-bind="theItem.appraisalDate | date:'medium'"></td>
            <td ng-bind="theItem.appraisalEndDate | date:'medium'"></td>
            <!--<td class="hand-cursor" ng-click="edit(theItem._id)">{{theItem.}}</td>-->

        </tr>
    </tbody>
</table>

<ul class="pagination pull-right" ng-show="pages > 1">
    <li ng-class="{disabled:page==1}"><a ng-click="getEmployeeAppraisalStorage(Number(page)-1)" class="hand-cursor">&laquo;</a></li>
    <li ng-repeat="n in [] | range:pages" ng-class="{active:page==$index+1}" ng-show="$index+1 < Number(page)+5 && $index+1 > Number(page)-5">
        <a ng-click="getEmployeeAppraisalStorage({{$index+1}})" class="hand-cursor">{{$index+1}}</a>
    </li>
    <li ng-class="{disabled:page==pages}"><a ng-click="getEmployeeAppraisalStorage(Number(page)+1)" class="hand-cursor">&raquo;</a></li>
</ul>

</div>